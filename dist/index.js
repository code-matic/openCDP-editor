/*! For license information please see index.js.LICENSE.txt */
import{forwardRef as e,useCallback as t,useEffect as n,useRef as o,useState as r}from"react";import{Button as l,Dropdown as i,Form as a,Input as s,Modal as c,message as d}from"antd";var u={698(e,t){var n=Symbol.for("react.transitional.element");function o(e,t,o){var r=null;if(void 0!==o&&(r=""+o),void 0!==t.key&&(r=""+t.key),"key"in t)for(var l in o={},t)"key"!==l&&(o[l]=t[l]);else o=t;return t=o.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:o}}Symbol.for("react.fragment"),t.jsx=o,t.jsxs=o},848(e,t,n){e.exports=n(698)}},m={};function p(e){var t=m[e];if(void 0!==t)return t.exports;var n=m[e]={exports:{}};return u[e](n,n.exports,p),n.exports}p.d=(e,t)=>{for(var n in t)p.o(t,n)&&!p.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},p.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var f=p(848);const h=e=>{let{mode:t,open:n,selectedButton:o,buttonLabel:r,buttonUrl:l,buttonLabelError:i,buttonUrlError:d,onLabelChange:u,onUrlChange:m,onApply:p,onOk:h,onCancel:g}=e;return(0,f.jsx)(c,{title:"insertButton"===t?"Insert Button":"Custom Background Color",open:n,onOk:()=>{h()},onCancel:()=>{g()},okText:"insertButton"===t?"Insert":"Apply",children:"insertButton"===t?(0,f.jsxs)(a,{layout:"vertical",children:[(0,f.jsx)(a.Item,{label:"Button Label",validateStatus:i?"error":"",help:i,children:(0,f.jsx)(s,{value:r,onChange:e=>null==u?void 0:u(e.target.value),placeholder:"Enter button text"})}),(0,f.jsx)(a.Item,{label:"Button URL",validateStatus:d?"error":"",help:d,children:(0,f.jsx)(s,{value:l,onChange:e=>null==m?void 0:m(e.target.value),placeholder:"Enter URL (e.g. https://...)"})})]}):(0,f.jsx)(a,{layout:"vertical",children:(0,f.jsx)(a.Item,{label:"Background Color",children:(0,f.jsx)(s,{type:"text",onChange:e=>{console.log("Input value:",e.target.value),null!=o&&o.element&&console.log("Applying color to:",o.element),null==p||p(e.target.value)},placeholder:"#000000"})})})})},g=()=>(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 6h8m-8 4h12M6 14h8m-8 4h12"})}),y=()=>(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{fill:"currentColor",d:"M21 7H3a1 1 0 0 1 0-2h18a1 1 0 0 1 0 2m-4 4H7a1 1 0 0 1 0-2h10a1 1 0 0 1 0 2m4 4H3a1 1 0 0 1 0-2h18a1 1 0 0 1 0 2m-4 4H7a1 1 0 0 1 0-2h10a1 1 0 0 1 0 2"})}),b=()=>(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 6h-8m8 4H6m12 4h-8m8 4H6"})}),x=()=>(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 24 24",children:(0,f.jsxs)("g",{fill:"none",children:[(0,f.jsx)("path",{d:"m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),(0,f.jsx)("path",{fill:"currentColor",d:"M18 19a1 1 0 0 1 .117 1.993L18 21H6a1 1 0 0 1-.117-1.993L6 19zM17 3a1 1 0 0 1 .993.883L18 4v8a6 6 0 0 1-11.996.225L6 12V4a1 1 0 0 1 1.993-.117L8 4v8a4 4 0 0 0 7.995.2L16 12V4a1 1 0 0 1 1-1"})]})}),v=()=>(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{fill:"currentColor",d:"M22 1v2h-5v1h-1v2h-1v3h-1v2h-1v3h-1v2h-1v2H9v1h7v2H2v-2h5v-1h1v-2h1v-2h1v-3h1v-2h1V8h1V6h1V4h1V3H8V1z"})}),k=()=>(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{fill:"currentColor",d:"M6 4.75c0-.69.56-1.25 1.25-1.25h5a4.752 4.752 0 0 1 3.888 7.479A5 5 0 0 1 14 20.5H7.25c-.69 0-1.25-.56-1.25-1.25ZM8.5 13v5H14a2.5 2.5 0 1 0 0-5Zm0-2.5h3.751A2.25 2.25 0 0 0 12.25 6H8.5Z"})}),T=()=>(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16",children:(0,f.jsx)("path",{fill:"currentColor",d:"M5.75 2.5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5m0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5m0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5M2 14a1 1 0 1 1 0-2a1 1 0 0 1 0 2m1-6a1 1 0 1 1-2 0a1 1 0 0 1 2 0M2 4a1 1 0 1 1 0-2a1 1 0 0 1 0 2"})}),w=()=>(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,f.jsxs)("g",{fill:"none",children:[(0,f.jsx)("path",{d:"m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),(0,f.jsx)("path",{fill:"currentColor",d:"M5.436 16.72a1.466 1.466 0 0 1 1.22 2.275a1.466 1.466 0 0 1-1.22 2.275c-.65 0-1.163-.278-1.427-.901a.65.65 0 1 1 1.196-.508a.18.18 0 0 0 .165.109c.109 0 .23-.03.23-.167c0-.1-.073-.143-.156-.154l-.051-.004a.65.65 0 0 1-.096-1.293l.096-.007c.102 0 .207-.037.207-.158c0-.137-.12-.167-.23-.167a.18.18 0 0 0-.164.11a.65.65 0 1 1-1.197-.509c.264-.622.777-.9 1.427-.9ZM20 18a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2zM6.08 9.945a1.552 1.552 0 0 1 .43 2.442l-.554.593h.47a.65.65 0 1 1 0 1.3H4.573a.655.655 0 0 1-.655-.654c0-.207.029-.399.177-.557L5.559 11.5c.11-.117.082-.321-.06-.392c-.136-.068-.249.01-.275.142l-.006.059a.65.65 0 0 1-.65.65c-.39 0-.65-.327-.65-.697a1.482 1.482 0 0 1 2.163-1.317ZM20 11a1 1 0 0 1 .117 1.993L20 13H9a1 1 0 0 1-.117-1.993L9 11zM6.15 3.39v3.24a.65.65 0 1 1-1.3 0V4.522a.65.65 0 0 1-.46-1.183l.742-.495a.655.655 0 0 1 1.018.545ZM20 4a1 1 0 0 1 .117 1.993L20 6H9a1 1 0 0 1-.117-1.993L9 4z"})]})}),A=()=>(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,f.jsxs)("g",{fill:"none",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,f.jsx)("rect",{width:"18.5",height:"11",x:"2.75",y:"6.5",rx:"4"}),(0,f.jsx)("path",{d:"M7 12h10"})]})}),E=e=>{let{active:t,onClick:n,icon:o,label:r,tooltip:l}=e;return(0,f.jsx)("button",{className:"px-2 py-1 rounded ".concat(t?"bg-gray-500 text-white":"bg-gray-100"),onClick:n,title:l,children:o||r})},C=e((e,t)=>{let{initialHtml:o,className:r}=e;return n(()=>{t&&"function"!=typeof t&&t.current&&o&&(t.current.innerHTML=o)},[t,o]),(0,f.jsx)("div",{ref:t,className:"open-cdp-editor ".concat(r," h-[400px] box-border border border-gray-300 overflow-y-auto p-2 rounded-lg focus:outline-none scrollbar-thin scrollbar-thumb-gray-400"),contentEditable:!0})}),L=()=>(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,f.jsxs)("g",{fill:"none",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,f.jsx)("path",{d:"M16.24 3.5h-8.5a5 5 0 0 0-5 5v7a5 5 0 0 0 5 5h8.5a5 5 0 0 0 5-5v-7a5 5 0 0 0-5-5"}),(0,f.jsx)("path",{d:"m2.99 17l2.75-3.2a2.2 2.2 0 0 1 2.77-.27a2.2 2.2 0 0 0 2.77-.27l2.33-2.33a4 4 0 0 1 5.16-.43l2.49 1.93M7.99 10.17a1.66 1.66 0 1 0 0-3.32a1.66 1.66 0 0 0 0 3.32"})]})}),S=()=>(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{fill:"#000",d:"M20 6.91L17.09 4L12 9.09L6.91 4L4 6.91L9.09 12L4 17.09L6.91 20L12 14.91L17.09 20L20 17.09L14.91 12z"})}),N=e=>{let{onClose:t,children:n}=e;return(0,f.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-[#00000062]",children:(0,f.jsxs)("div",{className:"bg-white rounded-2xl w-[55%] h-[500px] mx-auto p-6 relative",children:[(0,f.jsx)(l,{onClick:t,icon:(0,f.jsx)(S,{}),className:"absolute top-4 right-4 flex justify-center items-center"}),(0,f.jsx)("div",{children:n})]})})},_=e=>{let{children:t,onImageSelect:n}=e;const[o,i]=r(!1);return(0,f.jsxs)("div",{children:[(0,f.jsx)(l,{icon:(0,f.jsx)(L,{}),onClick:()=>i(!0),className:"px-2 py-1 rounded bg-gray-100"}),o&&(0,f.jsx)(N,{onClose:()=>i(!1),children:(0,f.jsx)("div",{onClick:e=>{const t=e.target;if("IMG"===t.tagName){n(t.src),i(!1)}},children:t})})]})},{entries:R,setPrototypeOf:D,isFrozen:O,getPrototypeOf:M,getOwnPropertyDescriptor:j}=Object;let{freeze:I,seal:B,create:H}=Object,{apply:z,construct:U}="undefined"!=typeof Reflect&&Reflect;I||(I=function(e){return e}),B||(B=function(e){return e}),z||(z=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return e.apply(t,o)}),U||(U=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return new e(...n)});const P=ne(Array.prototype.forEach),F=ne(Array.prototype.lastIndexOf),W=ne(Array.prototype.pop),G=ne(Array.prototype.push),q=ne(Array.prototype.splice),Y=ne(String.prototype.toLowerCase),V=ne(String.prototype.toString),X=ne(String.prototype.match),Z=ne(String.prototype.replace),$=ne(String.prototype.indexOf),K=ne(String.prototype.trim),J=ne(Object.prototype.hasOwnProperty),Q=ne(RegExp.prototype.test),ee=(te=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return U(te,t)});var te;function ne(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return z(e,t,o)}}function oe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y;D&&D(e,null);let o=t.length;for(;o--;){let r=t[o];if("string"==typeof r){const e=n(r);e!==r&&(O(t)||(t[o]=e),r=e)}e[r]=!0}return e}function re(e){for(let t=0;t<e.length;t++){J(e,t)||(e[t]=null)}return e}function le(e){const t=H(null);for(const[n,o]of R(e)){J(e,n)&&(Array.isArray(o)?t[n]=re(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=le(o):t[n]=o)}return t}function ie(e,t){for(;null!==e;){const n=j(e,t);if(n){if(n.get)return ne(n.get);if("function"==typeof n.value)return ne(n.value)}e=M(e)}return function(){return null}}const ae=I(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),se=I(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ce=I(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),de=I(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ue=I(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),me=I(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),pe=I(["#text"]),fe=I(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),he=I(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ge=I(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ye=I(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),be=B(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xe=B(/<%[\w\W]*|[\w\W]*%>/gm),ve=B(/\$\{[\w\W]*/gm),ke=B(/^data-[\-\w.\u00B7-\uFFFF]+$/),Te=B(/^aria-[\-\w]+$/),we=B(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ae=B(/^(?:\w+script|data):/i),Ee=B(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ce=B(/^html$/i),Le=B(/^[a-z][.\w]*(-[.\w]+)+$/i);var Se=Object.freeze({__proto__:null,ARIA_ATTR:Te,ATTR_WHITESPACE:Ee,CUSTOM_ELEMENT:Le,DATA_ATTR:ke,DOCTYPE_NAME:Ce,ERB_EXPR:xe,IS_ALLOWED_URI:we,IS_SCRIPT_OR_DATA:Ae,MUSTACHE_EXPR:be,TMPLIT_EXPR:ve});const Ne=1,_e=3,Re=7,De=8,Oe=9,Me=function(){return"undefined"==typeof window?null:window};var je=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();const n=t=>e(t);if(n.version="3.3.1",n.removed=[],!t||!t.document||t.document.nodeType!==Oe||!t.Element)return n.isSupported=!1,n;let{document:o}=t;const r=o,l=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:a,Node:s,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:p,trustedTypes:f}=t,h=c.prototype,g=ie(h,"cloneNode"),y=ie(h,"remove"),b=ie(h,"nextSibling"),x=ie(h,"childNodes"),v=ie(h,"parentNode");if("function"==typeof a){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let k,T="";const{implementation:w,createNodeIterator:A,createDocumentFragment:E,getElementsByTagName:C}=o,{importNode:L}=r;let S={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof R&&"function"==typeof v&&w&&void 0!==w.createHTMLDocument;const{MUSTACHE_EXPR:N,ERB_EXPR:_,TMPLIT_EXPR:D,DATA_ATTR:O,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:B,CUSTOM_ELEMENT:z}=Se;let{IS_ALLOWED_URI:U}=Se,te=null;const ne=oe({},[...ae,...se,...ce,...ue,...pe]);let re=null;const be=oe({},[...fe,...he,...ge,...ye]);let xe=Object.seal(H(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ve=null,ke=null;const Te=Object.seal(H(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ae=!0,Ee=!0,Le=!1,je=!0,Ie=!1,Be=!0,He=!1,ze=!1,Ue=!1,Pe=!1,Fe=!1,We=!1,Ge=!0,qe=!1,Ye=!0,Ve=!1,Xe={},Ze=null;const $e=oe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ke=null;const Je=oe({},["audio","video","img","source","image","track"]);let Qe=null;const et=oe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tt="http://www.w3.org/1998/Math/MathML",nt="http://www.w3.org/2000/svg",ot="http://www.w3.org/1999/xhtml";let rt=ot,lt=!1,it=null;const at=oe({},[tt,nt,ot],V);let st=oe({},["mi","mo","mn","ms","mtext"]),ct=oe({},["annotation-xml"]);const dt=oe({},["title","style","font","a","script"]);let ut=null;const mt=["application/xhtml+xml","text/html"];let pt=null,ft=null;const ht=o.createElement("form"),gt=function(e){return e instanceof RegExp||e instanceof Function},yt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ft||ft!==e){if(e&&"object"==typeof e||(e={}),e=le(e),ut=-1===mt.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,pt="application/xhtml+xml"===ut?V:Y,te=J(e,"ALLOWED_TAGS")?oe({},e.ALLOWED_TAGS,pt):ne,re=J(e,"ALLOWED_ATTR")?oe({},e.ALLOWED_ATTR,pt):be,it=J(e,"ALLOWED_NAMESPACES")?oe({},e.ALLOWED_NAMESPACES,V):at,Qe=J(e,"ADD_URI_SAFE_ATTR")?oe(le(et),e.ADD_URI_SAFE_ATTR,pt):et,Ke=J(e,"ADD_DATA_URI_TAGS")?oe(le(Je),e.ADD_DATA_URI_TAGS,pt):Je,Ze=J(e,"FORBID_CONTENTS")?oe({},e.FORBID_CONTENTS,pt):$e,ve=J(e,"FORBID_TAGS")?oe({},e.FORBID_TAGS,pt):le({}),ke=J(e,"FORBID_ATTR")?oe({},e.FORBID_ATTR,pt):le({}),Xe=!!J(e,"USE_PROFILES")&&e.USE_PROFILES,Ae=!1!==e.ALLOW_ARIA_ATTR,Ee=!1!==e.ALLOW_DATA_ATTR,Le=e.ALLOW_UNKNOWN_PROTOCOLS||!1,je=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ie=e.SAFE_FOR_TEMPLATES||!1,Be=!1!==e.SAFE_FOR_XML,He=e.WHOLE_DOCUMENT||!1,Pe=e.RETURN_DOM||!1,Fe=e.RETURN_DOM_FRAGMENT||!1,We=e.RETURN_TRUSTED_TYPE||!1,Ue=e.FORCE_BODY||!1,Ge=!1!==e.SANITIZE_DOM,qe=e.SANITIZE_NAMED_PROPS||!1,Ye=!1!==e.KEEP_CONTENT,Ve=e.IN_PLACE||!1,U=e.ALLOWED_URI_REGEXP||we,rt=e.NAMESPACE||ot,st=e.MATHML_TEXT_INTEGRATION_POINTS||st,ct=e.HTML_INTEGRATION_POINTS||ct,xe=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&gt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(xe.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&gt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(xe.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(xe.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ie&&(Ee=!1),Fe&&(Pe=!0),Xe&&(te=oe({},pe),re=[],!0===Xe.html&&(oe(te,ae),oe(re,fe)),!0===Xe.svg&&(oe(te,se),oe(re,he),oe(re,ye)),!0===Xe.svgFilters&&(oe(te,ce),oe(re,he),oe(re,ye)),!0===Xe.mathMl&&(oe(te,ue),oe(re,ge),oe(re,ye))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?Te.tagCheck=e.ADD_TAGS:(te===ne&&(te=le(te)),oe(te,e.ADD_TAGS,pt))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?Te.attributeCheck=e.ADD_ATTR:(re===be&&(re=le(re)),oe(re,e.ADD_ATTR,pt))),e.ADD_URI_SAFE_ATTR&&oe(Qe,e.ADD_URI_SAFE_ATTR,pt),e.FORBID_CONTENTS&&(Ze===$e&&(Ze=le(Ze)),oe(Ze,e.FORBID_CONTENTS,pt)),e.ADD_FORBID_CONTENTS&&(Ze===$e&&(Ze=le(Ze)),oe(Ze,e.ADD_FORBID_CONTENTS,pt)),Ye&&(te["#text"]=!0),He&&oe(te,["html","head","body"]),te.table&&(oe(te,["tbody"]),delete ve.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw ee('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw ee('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=e.TRUSTED_TYPES_POLICY,T=k.createHTML("")}else void 0===k&&(k=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(f,l)),null!==k&&"string"==typeof T&&(T=k.createHTML(""));I&&I(e),ft=e}},bt=oe({},[...se,...ce,...de]),xt=oe({},[...ue,...me]),vt=function(e){G(n.removed,{element:e});try{v(e).removeChild(e)}catch(t){y(e)}},kt=function(e,t){try{G(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){G(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Pe||Fe)try{vt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Tt=function(e){let t=null,n=null;if(Ue)e="<remove></remove>"+e;else{const t=X(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ut&&rt===ot&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=k?k.createHTML(e):e;if(rt===ot)try{t=(new p).parseFromString(r,ut)}catch(e){}if(!t||!t.documentElement){t=w.createDocument(rt,"template",null);try{t.documentElement.innerHTML=lt?T:r}catch(e){}}const l=t.body||t.documentElement;return e&&n&&l.insertBefore(o.createTextNode(n),l.childNodes[0]||null),rt===ot?C.call(t,He?"html":"body")[0]:He?t.documentElement:l},wt=function(e){return A.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},At=function(e){return e instanceof m&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Et=function(e){return"function"==typeof s&&e instanceof s};function Ct(e,t,o){P(e,e=>{e.call(n,t,o,ft)})}const Lt=function(e){let t=null;if(Ct(S.beforeSanitizeElements,e,null),At(e))return vt(e),!0;const o=pt(e.nodeName);if(Ct(S.uponSanitizeElement,e,{tagName:o,allowedTags:te}),Be&&e.hasChildNodes()&&!Et(e.firstElementChild)&&Q(/<[/\w!]/g,e.innerHTML)&&Q(/<[/\w!]/g,e.textContent))return vt(e),!0;if(e.nodeType===Re)return vt(e),!0;if(Be&&e.nodeType===De&&Q(/<[/\w]/g,e.data))return vt(e),!0;if(!(Te.tagCheck instanceof Function&&Te.tagCheck(o))&&(!te[o]||ve[o])){if(!ve[o]&&Nt(o)){if(xe.tagNameCheck instanceof RegExp&&Q(xe.tagNameCheck,o))return!1;if(xe.tagNameCheck instanceof Function&&xe.tagNameCheck(o))return!1}if(Ye&&!Ze[o]){const t=v(e)||e.parentNode,n=x(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const r=g(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,b(e))}}}return vt(e),!0}return e instanceof c&&!function(e){let t=v(e);t&&t.tagName||(t={namespaceURI:rt,tagName:"template"});const n=Y(e.tagName),o=Y(t.tagName);return!!it[e.namespaceURI]&&(e.namespaceURI===nt?t.namespaceURI===ot?"svg"===n:t.namespaceURI===tt?"svg"===n&&("annotation-xml"===o||st[o]):Boolean(bt[n]):e.namespaceURI===tt?t.namespaceURI===ot?"math"===n:t.namespaceURI===nt?"math"===n&&ct[o]:Boolean(xt[n]):e.namespaceURI===ot?!(t.namespaceURI===nt&&!ct[o])&&!(t.namespaceURI===tt&&!st[o])&&!xt[n]&&(dt[n]||!bt[n]):!("application/xhtml+xml"!==ut||!it[e.namespaceURI]))}(e)?(vt(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!Q(/<\/no(script|embed|frames)/i,e.innerHTML)?(Ie&&e.nodeType===_e&&(t=e.textContent,P([N,_,D],e=>{t=Z(t,e," ")}),e.textContent!==t&&(G(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ct(S.afterSanitizeElements,e,null),!1):(vt(e),!0)},St=function(e,t,n){if(Ge&&("id"===t||"name"===t)&&(n in o||n in ht))return!1;if(Ee&&!ke[t]&&Q(O,t));else if(Ae&&Q(M,t));else if(Te.attributeCheck instanceof Function&&Te.attributeCheck(t,e));else if(!re[t]||ke[t]){if(!(Nt(e)&&(xe.tagNameCheck instanceof RegExp&&Q(xe.tagNameCheck,e)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(e))&&(xe.attributeNameCheck instanceof RegExp&&Q(xe.attributeNameCheck,t)||xe.attributeNameCheck instanceof Function&&xe.attributeNameCheck(t,e))||"is"===t&&xe.allowCustomizedBuiltInElements&&(xe.tagNameCheck instanceof RegExp&&Q(xe.tagNameCheck,n)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(n))))return!1}else if(Qe[t]);else if(Q(U,Z(n,B,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==$(n,"data:")||!Ke[e]){if(Le&&!Q(j,Z(n,B,"")));else if(n)return!1}else;return!0},Nt=function(e){return"annotation-xml"!==e&&X(e,z)},_t=function(e){Ct(S.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||At(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:re,forceKeepAttr:void 0};let r=t.length;for(;r--;){const l=t[r],{name:i,namespaceURI:a,value:s}=l,c=pt(i),d=s;let u="value"===i?d:K(d);if(o.attrName=c,o.attrValue=u,o.keepAttr=!0,o.forceKeepAttr=void 0,Ct(S.uponSanitizeAttribute,e,o),u=o.attrValue,!qe||"id"!==c&&"name"!==c||(kt(i,e),u="user-content-"+u),Be&&Q(/((--!?|])>)|<\/(style|title|textarea)/i,u)){kt(i,e);continue}if("attributename"===c&&X(u,"href")){kt(i,e);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr){kt(i,e);continue}if(!je&&Q(/\/>/i,u)){kt(i,e);continue}Ie&&P([N,_,D],e=>{u=Z(u,e," ")});const m=pt(e.nodeName);if(St(m,c,u)){if(k&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(a);else switch(f.getAttributeType(m,c)){case"TrustedHTML":u=k.createHTML(u);break;case"TrustedScriptURL":u=k.createScriptURL(u)}if(u!==d)try{a?e.setAttributeNS(a,i,u):e.setAttribute(i,u),At(e)?vt(e):W(n.removed)}catch(t){kt(i,e)}}else kt(i,e)}Ct(S.afterSanitizeAttributes,e,null)},Rt=function e(t){let n=null;const o=wt(t);for(Ct(S.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)Ct(S.uponSanitizeShadowNode,n,null),Lt(n),_t(n),n.content instanceof i&&e(n.content);Ct(S.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,l=null,a=null,c=null;if(lt=!e,lt&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Et(e)){if("function"!=typeof e.toString)throw ee("toString is not a function");if("string"!=typeof(e=e.toString()))throw ee("dirty is not a string, aborting")}if(!n.isSupported)return e;if(ze||yt(t),n.removed=[],"string"==typeof e&&(Ve=!1),Ve){if(e.nodeName){const t=pt(e.nodeName);if(!te[t]||ve[t])throw ee("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof s)o=Tt("\x3c!----\x3e"),l=o.ownerDocument.importNode(e,!0),l.nodeType===Ne&&"BODY"===l.nodeName||"HTML"===l.nodeName?o=l:o.appendChild(l);else{if(!Pe&&!Ie&&!He&&-1===e.indexOf("<"))return k&&We?k.createHTML(e):e;if(o=Tt(e),!o)return Pe?null:We?T:""}o&&Ue&&vt(o.firstChild);const d=wt(Ve?e:o);for(;a=d.nextNode();)Lt(a),_t(a),a.content instanceof i&&Rt(a.content);if(Ve)return e;if(Pe){if(Fe)for(c=E.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return(re.shadowroot||re.shadowrootmode)&&(c=L.call(r,c,!0)),c}let u=He?o.outerHTML:o.innerHTML;return He&&te["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&Q(Ce,o.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+u),Ie&&P([N,_,D],e=>{u=Z(u,e," ")}),k&&We?k.createHTML(u):u},n.setConfig=function(){yt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),ze=!0},n.clearConfig=function(){ft=null,ze=!1},n.isValidAttribute=function(e,t,n){ft||yt({});const o=pt(e),r=pt(t);return St(o,r,n)},n.addHook=function(e,t){"function"==typeof t&&G(S[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=F(S[e],t);return-1===n?void 0:q(S[e],n,1)[0]}return W(S[e])},n.removeHooks=function(e){S[e]=[]},n.removeAllHooks=function(){S={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();je.addHook("uponSanitizeAttribute",(e,t)=>{if(e&&"function"==typeof e.hasAttribute&&"style"===t.attrName){const e=(t.attrValue||"").split(";").map(e=>e.trim()).filter(e=>{const[t]=e.split(":").map(e=>e.trim().toLowerCase());return["color","font-weight","font-style","text-decoration","background-color","font-size","text-align","float","margin","margin-left","margin-right","margin-top","margin-bottom","display","width","max-width","height","padding","border-radius","object-fit","cursor"].includes(t)}).join("; ");e?t.attrValue=e:t.keepAttr=!1}});const Ie=function(e){let{onChange:l,className:a,initialValue:s,imageChildren:c,exportFullHTML:u}=e;const{align:m,boldActive:p,italicActive:L,underlineActive:S,formatBlock:N,orderedListActive:R,unorderedListActive:D}=(()=>{const[e,n]=r(""),[l,i]=r(!1),[a,s]=r(!1),[c,d]=r(!1),[u,m]=r(""),[p,f]=r(!1),[h,g]=r(!1),[y,b]=r(!1),[x,v]=r(""),k=o(null),T=t(()=>{requestAnimationFrame(()=>{var t;const o=document.queryCommandState("bold"),r=document.queryCommandState("italic"),y=document.queryCommandState("underline"),b=document.queryCommandState("insertOrderedList"),x=document.queryCommandState("insertUnorderedList"),v=null===(t=document.queryCommandValue("formatBlock"))||void 0===t?void 0:t.toLowerCase();o!==l&&i(o),r!==a&&s(r),y!==c&&d(y),b!==p&&f(b),x!==h&&g(x),v!==u&&m(v);const k=window.getSelection();if(!k||0===k.rangeCount)return;let T=k.anchorNode;for(;T;){if(1===T.nodeType){const e=window.getComputedStyle(T).display;if("block"===e||"flex"===e)break}T=T.parentElement}let w="";if(T){const e=window.getComputedStyle(T).textAlign;w="center"===e?"center":"right"===e?"right":"left"}w!==e&&n(w)})},[l,a,c,p,h,u,e]);return{align:e,boldActive:l,italicActive:a,underlineActive:c,formatBlock:u,orderedListActive:p,unorderedListActive:h,linkDropdownOpen:y,linkUrl:x,savedSelection:k,handleSelectionChange:T,setLinkDropdownOpen:b,setLinkUrl:v}})(),[O,M]=r(null),[j,I]=r(null),[B,H]=r(null),z=o(null),U=o(null);n(()=>{if(z.current&&s){const t=(e=>{const t=(new DOMParser).parseFromString(e,"text/html"),n=t.querySelector("style");let o=t.body.innerHTML;n&&(o='<div class="editor-styles-container">'.concat(n.outerHTML,"</div>")+o);return o})(s);z.current.innerHTML=(e=t,je.sanitize(e,{ALLOWED_TAGS:["b","i","u","strong","em","span","div","br","p","h1","h2","h3","ul","ol","li","a","img"],ALLOWED_ATTR:["style","href","target","rel","src","alt","width","height","draggable"],FORBID_ATTR:["onerror","onclick","onload"],FORBID_TAGS:["script","iframe","object","embed"]}))}else z.current&&(z.current.innerHTML="");var e},[s]);const[P,F]=r(!1),[W,G]=r(""),[q,Y]=r(""),[V,X]=r(""),[Z,$]=r(""),[K,J]=r({top:0,left:0}),[Q,ee]=r({top:0,left:0}),[te,ne]=r(!1),[oe,re]=r(""),[le,ie]=r(""),[ae,se]=r(null),[ce,de]=r(!1),[ue,me]=r({top:0,left:0}),pe=()=>{};n(()=>{const e=z.current;if(!e)return;const t=()=>{if(l){const t=e.innerHTML;l(u?(e=>'\n      <!DOCTYPE html>\n      <html lang="en">\n      <head>\n        <meta charset="UTF-8">\n        <title>Exported Document</title>\n      </head>\n      <body>\n        '.concat(e,"\n      </body>\n      </html>\n    "))(t):t)}};return document.addEventListener("selectionchange",pe),e.addEventListener("input",t),()=>{document.removeEventListener("selectionchange",pe),e.removeEventListener("input",t)}},[l,u]),n(()=>{const e=z.current;if(!e)return;let t=null;const n=e=>{var n,o;e.target&&"IMG"===e.target.tagName&&(t=e.target,null===(n=e.dataTransfer)||void 0===n||n.setData("text/html",t.outerHTML),null===(o=e.dataTransfer)||void 0===o||o.setData("text/plain",t.src))},o=e=>{e.preventDefault()},r=n=>{if(n.preventDefault(),t&&e.contains(t)){const e=l(n);if(e){var o;const n=t.cloneNode(!0);e.insertNode(n),e.collapse(!1),null===(o=t.parentNode)||void 0===o||o.removeChild(t)}}t=null},l=e=>{if(document.caretRangeFromPoint)return document.caretRangeFromPoint(e.clientX,e.clientY);if(e.rangeParent){const t=document.createRange();return t.setStart(e.rangeParent,e.rangeOffset),t}return null};return e.addEventListener("dragstart",n),e.addEventListener("dragover",o),e.addEventListener("drop",r),()=>{e.removeEventListener("dragstart",n),e.removeEventListener("dragover",o),e.removeEventListener("drop",r)}},[]);const fe=(e,t)=>{var n;const o=window.getSelection(),r=o&&o.isCollapsed;if(("bold"===e||"italic"===e||"underline"===e)&&r&&z.current&&document.activeElement===z.current){document.execCommand(e,!1,t),document.execCommand("insertHTML",!1,"<span>â€‹</span>");const n=document.createRange(),r=z.current;r.lastChild&&(n.setStartAfter(r.lastChild),n.collapse(!0),null==o||o.removeAllRanges(),null==o||o.addRange(n))}else document.execCommand(e,!1,t);null===(n=z.current)||void 0===n||n.focus()};n(()=>{let e=null,t=null,n=null;const o=o=>{const r=o.target;if(!r)return;const l=z.current,i=document.querySelector(".ant-dropdown"),a=document.querySelector(".ant-modal");if(a&&a.contains(r)||i&&i.contains(r))return;const s=r.closest("a"),c=r.closest("img"),d=()=>{e&&(e.style.outline="none",e=null,M(null)),t&&(t.style.outline="none",t=null,I(null)),n&&(n.style.outline="none",n=null,H(null))};if(l&&!l.contains(r))return void d();let u=!1;if(s&&null!=l&&l.contains(s)?(o.preventDefault(),e!==s&&d(),s.style.outline="2px solid #3b82f6",e=s,M({element:s,x:o.clientX,y:o.clientY}),u=!0):c&&null!=l&&l.contains(c)&&(o.preventDefault(),t!==c&&d(),c.style.outline="2px solid #3b82f6",t=c,I({element:c,x:o.clientX,y:o.clientY}),u=!0),!u){const e=window.getSelection();if(e&&e.rangeCount>0&&!e.isCollapsed){var m;const t=null===(m=e.getRangeAt(0).startContainer.parentElement)||void 0===m?void 0:m.closest("p, div, span, section, article, main, header, footer, aside, nav");if(t&&null!=l&&l.contains(t)){n!==t&&d(),t.style.outline="2px solid #3b82f6",n=t;const e=t.getBoundingClientRect();H({element:t,x:e.left,y:e.top}),u=!0}}}u||d()};return document.addEventListener("click",o),()=>document.removeEventListener("click",o)},[]);const he=((e,t,n,o,r,l,i)=>({onClick:a=>{if(null==e||!e.element)return;const s=e.element;if("edit"===a.key)r(s.innerText),l(s.getAttribute("href")||""),i(s),o(!0);else if("delete"===a.key)s.remove(),n(null);else if(a.key.startsWith("align-")){const e=a.key.replace("align-","");s.style.textAlign=e;const t=s.closest("div, p, section, article");t&&(t.style.textAlign=e)}else{if(!s)return void console.error("Button element is not defined.");a.key.startsWith("bg-")?((e,t)=>{e.style.backgroundColor=t})(s,a.key.replace("bg-","")):a.key.startsWith("text-")?((e,t)=>{e.style.color=t})(s,a.key.replace("text-","")):a.key.startsWith("radius-")?((e,t)=>{e.style.borderRadius=t})(s,a.key.replace("radius-","")):a.key.startsWith("padding-")?((e,t)=>{e.style.padding=t})(s,a.key.replace("padding-","")):"remove-bg"===a.key?(e=>{e.style.backgroundColor=""})(s):"remove-border"===a.key?(e=>{e.style.border=""})(s):"remove-padding"===a.key?(e=>{e.style.padding=""})(s):"custom-bg-color"===a.key&&t(!0)}},items:[{key:"edit",label:"Edit Button"},{key:"align",label:"Align Button",children:[{key:"align-left",label:"Left"},{key:"align-center",label:"Center"},{key:"align-right",label:"Right"}]},{key:"bg-color",label:"Background Color",children:[{key:"bg-#3b82f6",label:"Blue"},{key:"bg-#10b981",label:"Green"},{key:"bg-#ef4444",label:"Red"},{key:"bg-#f59e0b",label:"Orange"},{key:"bg-#8b5cf6",label:"Purple"},{key:"bg-#000000",label:"Black"}]},{key:"border-radius",label:"Border Radius",children:[{key:"radius-0px",label:"Square"},{key:"radius-2px",label:"Default"},{key:"radius-4px",label:"Large"},{key:"radius-9999px",label:"Pill"}]},{key:"text-color",label:"Text Color",children:[{key:"text-#ffffff",label:"White"},{key:"text-#000000",label:"Black"}]},{key:"padding",label:"Padding",children:[{key:"padding-8px 16px",label:"Small"},{key:"padding-12px 24px",label:"Default"},{key:"padding-16px 32px",label:"Large"},{key:"padding-20px 40px",label:"Extra Large"}]},{type:"divider"},{key:"remove-bg",label:"Remove Background"},{key:"remove-border",label:"Remove Border"},{key:"remove-padding",label:"Remove Padding"},{key:"delete",label:"Delete Button",danger:!0}]}))(O,de,M,ne,re,ie,se),ge=((e,t)=>({onClick:n=>{if(null==e||!e.element)return;const o=e.element;var r,l;n.key.startsWith("resize-")?(r=o,l=n.key.replace("resize-",""),r.style.width=l):n.key.startsWith("align-")?((e,t)=>{e.style.display="block",e.style.margin="center"===t?"auto":"0 ".concat("right"===t?"0 0 auto":"auto 0 0")})(o,n.key.replace("align-","")):n.key.startsWith("border-")?((e,t)=>{e.style.borderRadius=t})(o,n.key.replace("border-","")):"remove"===n.key&&(o.remove(),t(null))},items:[{key:"resize",label:"Resize",children:[{key:"resize-25%",label:"25%"},{key:"resize-50%",label:"50%"},{key:"resize-75%",label:"75%"},{key:"resize-100%",label:"100%"}]},{key:"align",label:"Align",children:[{key:"align-left",label:"Left"},{key:"align-center",label:"Center"},{key:"align-right",label:"Right"}]},{key:"border",label:"Border Radius",children:[{key:"border-0px",label:"None"},{key:"border-8px",label:"Small"},{key:"border-16px",label:"Medium"},{key:"border-24px",label:"Large"}]},{type:"divider"},{key:"remove",label:"Remove Image",danger:!0}]}))(j,I),ye=(e=>({onClick:t=>{if(null==e||!e.element)return;const n=e.element;var o,r;t.key.startsWith("border-")?(o=n,r=t.key.replace("border-",""),o.style.border=r):t.key.startsWith("radius-")?((e,t)=>{e.style.borderRadius=t})(n,t.key.replace("radius-","")):"remove-border"===t.key&&(e=>{e.style.border=""})(n)},items:[{key:"border",label:"Border",children:[{key:"border-1px solid #000",label:"Black"},{key:"border-1px solid #3b82f6",label:"Blue"},{key:"border-1px solid #10b981",label:"Green"},{key:"border-1px solid #ef4444",label:"Red"}]},{key:"border-radius",label:"Border Radius",children:[{key:"radius-0px",label:"None"},{key:"radius-4px",label:"Small"},{key:"radius-8px",label:"Medium"},{key:"radius-12px",label:"Large"}]},{type:"divider"},{key:"remove-border",label:"Remove Border"}]}))(B);return n(()=>{O&&J({top:O.y+10,left:O.x+10})},[O]),n(()=>{j&&me({top:j.y+10,left:j.x+10})},[j]),n(()=>{B&&ee({top:B.y+30,left:B.x+10})},[B]),(0,f.jsxs)("div",{className:"w-fit border-2 border-blue-500 p-3 rounded-lg shadow-lg mx-auto mt-10",children:[(0,f.jsxs)("div",{className:"flex flex-wrap mb-2 gap-1",children:[(0,f.jsx)(E,{active:p,onClick:()=>fe("bold"),tooltip:"Bold",icon:(0,f.jsx)(k,{})}),(0,f.jsx)(E,{active:L,onClick:()=>fe("italic"),tooltip:"Italic",icon:(0,f.jsx)(v,{})}),(0,f.jsx)(E,{active:S,onClick:()=>fe("underline"),tooltip:"Underline",icon:(0,f.jsx)(x,{})}),(0,f.jsx)(E,{active:"h1"===N,onClick:()=>fe("formatBlock","H1"),tooltip:"Heading 1",label:"H1"}),(0,f.jsx)(E,{active:"h2"===N,onClick:()=>fe("formatBlock","H2"),tooltip:"Heading 2",label:"H2"}),(0,f.jsx)(E,{active:"h3"===N,onClick:()=>fe("formatBlock","H3"),tooltip:"Heading 3",label:"H3"}),(0,f.jsx)(E,{active:D,onClick:()=>fe("insertUnorderedList"),tooltip:"Unordered List",icon:(0,f.jsx)(T,{})}),(0,f.jsx)(E,{active:R,onClick:()=>fe("insertOrderedList"),tooltip:"Ordered List",icon:(0,f.jsx)(w,{})}),(0,f.jsx)(E,{active:"left"===m,onClick:()=>fe("justifyLeft"),tooltip:"Align Left",icon:(0,f.jsx)(g,{})}),(0,f.jsx)(E,{active:"center"===m,onClick:()=>fe("justifyCenter"),tooltip:"Align Center",icon:(0,f.jsx)(y,{})}),(0,f.jsx)(E,{active:"right"===m,onClick:()=>fe("justifyRight"),tooltip:"Align Right",icon:(0,f.jsx)(b,{})}),(0,f.jsx)(_,{children:c,onImageSelect:e=>{if(z.current){z.current.focus();const t=window.getSelection();if(t&&t.rangeCount>0){const n=t.getRangeAt(0),o=document.createElement("img");o.src=e,o.style.maxWidth="100%",o.draggable=!0,n.insertNode(o),n.collapse(!1)}else{const t=document.createElement("img");t.src=e,t.style.maxWidth="100%",t.draggable=!0,z.current.appendChild(t)}}}}),(0,f.jsx)(E,{onClick:()=>{const e=window.getSelection();e&&e.rangeCount>0&&(U.current=e.getRangeAt(0).cloneRange()),F(!0),G(""),Y(""),X(""),$("")},icon:(0,f.jsx)(A,{}),tooltip:"Insert Button",label:"Button"}),(0,f.jsx)(h,{mode:"insertButton",open:P,buttonLabel:W,buttonUrl:q,buttonLabelError:V,buttonUrlError:Z,onLabelChange:G,onUrlChange:Y,onOk:()=>{let e=!1;if(W.trim()?X(""):(X("Button label is required"),e=!0),q.trim()?$(""):($("URL is required"),e=!0),!e){if(z.current){const e=window.getSelection();null==e||e.removeAllRanges(),U.current&&(null==e||e.addRange(U.current));const t='<a href="'.concat(q,'" target="_blank" rel="noopener noreferrer" style="text-decoration: none !important;">').concat(W,"</a>");document.execCommand("insertHTML",!1,t),z.current.focus()}F(!1),U.current=null}},onCancel:()=>F(!1)}),(0,f.jsx)(h,{mode:"insertButton",open:te,buttonLabel:oe,buttonUrl:le,buttonLabelError:V,buttonUrlError:Z,onLabelChange:re,onUrlChange:ie,onOk:()=>{ae&&(ae.textContent=oe,ae.setAttribute("href",le),d.success("Button updated successfully."),ne(!1),se(null))},onCancel:()=>ne(!1)}),(0,f.jsx)(h,{mode:"customBg",open:ce,onApply:e=>{if(console.log("Custom background color applied:",e),null!=O&&O.element){console.log("Selected button element:",O.element);const t=(e,t)=>{e.style.backgroundColor=t};t(O.element,e)}else console.error("No button selected to apply background color.")},selectedButton:O,onOk:()=>de(!1),onCancel:()=>de(!1)})]}),(0,f.jsx)(C,{ref:z,className:a}),O&&(0,f.jsx)("div",{style:{position:"absolute",top:K.top,left:K.left,zIndex:1e3,width:"200px"},children:(0,f.jsx)(i,{menu:he,trigger:["click"],open:!0,onOpenChange:e=>{e||M(null)},children:(0,f.jsx)("div",{style:{width:"1px",height:"1px"}})})}),j&&(0,f.jsx)("div",{style:{position:"absolute",top:ue.top,left:ue.left,zIndex:1e3,width:"200px"},children:(0,f.jsx)(i,{menu:ge,trigger:["click"],open:!0,onOpenChange:e=>{e||I(null)},children:(0,f.jsx)("div",{style:{width:"1px",height:"1px"}})})}),B&&(0,f.jsx)("div",{style:{position:"absolute",top:Q.top,left:Q.left,zIndex:1e3,width:"200px"},children:(0,f.jsx)(i,{menu:ye,trigger:["click"],open:!0,onOpenChange:e=>{e||H(null)},children:(0,f.jsx)("div",{style:{width:"1px",height:"1px"}})})})]})},Be=Ie;export{Be as default};