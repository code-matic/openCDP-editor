/*! For license information please see index.cjs.LICENSE.txt */
(()=>{"use strict";var e={698(e,t){var n=Symbol.for("react.transitional.element");function o(e,t,o){var r=null;if(void 0!==o&&(r=""+o),void 0!==t.key&&(r=""+t.key),"key"in t)for(var l in o={},t)"key"!==l&&(o[l]=t[l]);else o=t;return t=o.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:o}}Symbol.for("react.fragment"),t.jsx=o,t.jsxs=o},848(e,t,n){e.exports=n(698)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var l=t[o]={exports:{}};return e[o](l,l.exports,n),l.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};n.r(o),n.d(o,{default:()=>Ne});const r=require("react"),l=require("antd");var i=n(848);const a=e=>{let{mode:t,open:n,selectedButton:o,buttonLabel:r,buttonUrl:a,buttonLabelError:s,buttonUrlError:c,onLabelChange:u,onUrlChange:d,onApply:m,onOk:p,onCancel:f}=e;return(0,i.jsx)(l.Modal,{title:"insertButton"===t?"Insert Button":"Custom Background Color",open:n,onOk:()=>{p()},onCancel:()=>{f()},okText:"insertButton"===t?"Insert":"Apply",children:"insertButton"===t?(0,i.jsxs)(l.Form,{layout:"vertical",children:[(0,i.jsx)(l.Form.Item,{label:"Button Label",validateStatus:s?"error":"",help:s,children:(0,i.jsx)(l.Input,{value:r,onChange:e=>null==u?void 0:u(e.target.value),placeholder:"Enter button text"})}),(0,i.jsx)(l.Form.Item,{label:"Button URL",validateStatus:c?"error":"",help:c,children:(0,i.jsx)(l.Input,{value:a,onChange:e=>null==d?void 0:d(e.target.value),placeholder:"Enter URL (e.g. https://...)"})})]}):(0,i.jsx)(l.Form,{layout:"vertical",children:(0,i.jsx)(l.Form.Item,{label:"Background Color",children:(0,i.jsx)(l.Input,{type:"text",onChange:e=>{console.log("Input value:",e.target.value),null!=o&&o.element&&console.log("Applying color to:",o.element),null==m||m(e.target.value)},placeholder:"#000000"})})})})},s=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 6h8m-8 4h12M6 14h8m-8 4h12"})}),c=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{fill:"currentColor",d:"M21 7H3a1 1 0 0 1 0-2h18a1 1 0 0 1 0 2m-4 4H7a1 1 0 0 1 0-2h10a1 1 0 0 1 0 2m4 4H3a1 1 0 0 1 0-2h18a1 1 0 0 1 0 2m-4 4H7a1 1 0 0 1 0-2h10a1 1 0 0 1 0 2"})}),u=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 6h-8m8 4H6m12 4h-8m8 4H6"})}),d=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 24 24",children:(0,i.jsxs)("g",{fill:"none",children:[(0,i.jsx)("path",{d:"m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),(0,i.jsx)("path",{fill:"currentColor",d:"M18 19a1 1 0 0 1 .117 1.993L18 21H6a1 1 0 0 1-.117-1.993L6 19zM17 3a1 1 0 0 1 .993.883L18 4v8a6 6 0 0 1-11.996.225L6 12V4a1 1 0 0 1 1.993-.117L8 4v8a4 4 0 0 0 7.995.2L16 12V4a1 1 0 0 1 1-1"})]})}),m=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{fill:"currentColor",d:"M22 1v2h-5v1h-1v2h-1v3h-1v2h-1v3h-1v2h-1v2H9v1h7v2H2v-2h5v-1h1v-2h1v-2h1v-3h1v-2h1V8h1V6h1V4h1V3H8V1z"})}),p=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{fill:"currentColor",d:"M6 4.75c0-.69.56-1.25 1.25-1.25h5a4.752 4.752 0 0 1 3.888 7.479A5 5 0 0 1 14 20.5H7.25c-.69 0-1.25-.56-1.25-1.25ZM8.5 13v5H14a2.5 2.5 0 1 0 0-5Zm0-2.5h3.751A2.25 2.25 0 0 0 12.25 6H8.5Z"})}),f=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16",children:(0,i.jsx)("path",{fill:"currentColor",d:"M5.75 2.5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5m0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5m0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5M2 14a1 1 0 1 1 0-2a1 1 0 0 1 0 2m1-6a1 1 0 1 1-2 0a1 1 0 0 1 2 0M2 4a1 1 0 1 1 0-2a1 1 0 0 1 0 2"})}),h=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,i.jsxs)("g",{fill:"none",children:[(0,i.jsx)("path",{d:"m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),(0,i.jsx)("path",{fill:"currentColor",d:"M5.436 16.72a1.466 1.466 0 0 1 1.22 2.275a1.466 1.466 0 0 1-1.22 2.275c-.65 0-1.163-.278-1.427-.901a.65.65 0 1 1 1.196-.508a.18.18 0 0 0 .165.109c.109 0 .23-.03.23-.167c0-.1-.073-.143-.156-.154l-.051-.004a.65.65 0 0 1-.096-1.293l.096-.007c.102 0 .207-.037.207-.158c0-.137-.12-.167-.23-.167a.18.18 0 0 0-.164.11a.65.65 0 1 1-1.197-.509c.264-.622.777-.9 1.427-.9ZM20 18a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2zM6.08 9.945a1.552 1.552 0 0 1 .43 2.442l-.554.593h.47a.65.65 0 1 1 0 1.3H4.573a.655.655 0 0 1-.655-.654c0-.207.029-.399.177-.557L5.559 11.5c.11-.117.082-.321-.06-.392c-.136-.068-.249.01-.275.142l-.006.059a.65.65 0 0 1-.65.65c-.39 0-.65-.327-.65-.697a1.482 1.482 0 0 1 2.163-1.317ZM20 11a1 1 0 0 1 .117 1.993L20 13H9a1 1 0 0 1-.117-1.993L9 11zM6.15 3.39v3.24a.65.65 0 1 1-1.3 0V4.522a.65.65 0 0 1-.46-1.183l.742-.495a.655.655 0 0 1 1.018.545ZM20 4a1 1 0 0 1 .117 1.993L20 6H9a1 1 0 0 1-.117-1.993L9 4z"})]})}),g=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,i.jsxs)("g",{fill:"none",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,i.jsx)("rect",{width:"18.5",height:"11",x:"2.75",y:"6.5",rx:"4"}),(0,i.jsx)("path",{d:"M7 12h10"})]})}),y=e=>{let{active:t,onClick:n,icon:o,label:r,tooltip:l}=e;return(0,i.jsx)("button",{className:"px-2 py-1 rounded ".concat(t?"bg-gray-500 text-white":"bg-gray-100"),onClick:n,title:l,children:o||r})},b=(0,r.forwardRef)((e,t)=>{let{initialHtml:n,className:o}=e;return(0,r.useEffect)(()=>{t&&"function"!=typeof t&&t.current&&n&&(t.current.innerHTML=n)},[t,n]),(0,i.jsx)("div",{ref:t,className:"open-cdp-editor ".concat(o," h-[400px] box-border border border-gray-300 overflow-y-auto p-2 rounded-lg focus:outline-none scrollbar-thin scrollbar-thumb-gray-400"),contentEditable:!0})}),x=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,i.jsxs)("g",{fill:"none",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,i.jsx)("path",{d:"M16.24 3.5h-8.5a5 5 0 0 0-5 5v7a5 5 0 0 0 5 5h8.5a5 5 0 0 0 5-5v-7a5 5 0 0 0-5-5"}),(0,i.jsx)("path",{d:"m2.99 17l2.75-3.2a2.2 2.2 0 0 1 2.77-.27a2.2 2.2 0 0 0 2.77-.27l2.33-2.33a4 4 0 0 1 5.16-.43l2.49 1.93M7.99 10.17a1.66 1.66 0 1 0 0-3.32a1.66 1.66 0 0 0 0 3.32"})]})}),v=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{fill:"#000",d:"M20 6.91L17.09 4L12 9.09L6.91 4L4 6.91L9.09 12L4 17.09L6.91 20L12 14.91L17.09 20L20 17.09L14.91 12z"})}),k=e=>{let{onClose:t,children:n}=e;return(0,i.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-[#00000062]",children:(0,i.jsxs)("div",{className:"bg-white rounded-2xl w-[55%] h-[500px] mx-auto p-6 relative",children:[(0,i.jsx)(l.Button,{onClick:t,icon:(0,i.jsx)(v,{}),className:"absolute top-4 right-4 flex justify-center items-center"}),(0,i.jsx)("div",{children:n})]})})},T=e=>{let{children:t,onImageSelect:n}=e;const[o,a]=(0,r.useState)(!1);return(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Button,{icon:(0,i.jsx)(x,{}),onClick:()=>a(!0),className:"px-2 py-1 rounded bg-gray-100"}),o&&(0,i.jsx)(k,{onClose:()=>a(!1),children:(0,i.jsx)("div",{onClick:e=>{const t=e.target;if("IMG"===t.tagName){n(t.src),a(!1)}},children:t})})]})},{entries:w,setPrototypeOf:S,isFrozen:E,getPrototypeOf:A,getOwnPropertyDescriptor:C}=Object;let{freeze:L,seal:N,create:_}=Object,{apply:R,construct:D}="undefined"!=typeof Reflect&&Reflect;L||(L=function(e){return e}),N||(N=function(e){return e}),R||(R=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return e.apply(t,o)}),D||(D=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return new e(...n)});const O=X(Array.prototype.forEach),M=X(Array.prototype.lastIndexOf),j=X(Array.prototype.pop),I=X(Array.prototype.push),B=X(Array.prototype.splice),H=X(String.prototype.toLowerCase),z=X(String.prototype.toString),U=X(String.prototype.match),P=X(String.prototype.replace),F=X(String.prototype.indexOf),W=X(String.prototype.trim),q=X(Object.prototype.hasOwnProperty),G=X(RegExp.prototype.test),Y=(V=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return D(V,t)});var V;function X(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return R(e,t,o)}}function Z(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;S&&S(e,null);let o=t.length;for(;o--;){let r=t[o];if("string"==typeof r){const e=n(r);e!==r&&(E(t)||(t[o]=e),r=e)}e[r]=!0}return e}function $(e){for(let t=0;t<e.length;t++){q(e,t)||(e[t]=null)}return e}function K(e){const t=_(null);for(const[n,o]of w(e)){q(e,n)&&(Array.isArray(o)?t[n]=$(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=K(o):t[n]=o)}return t}function J(e,t){for(;null!==e;){const n=C(e,t);if(n){if(n.get)return X(n.get);if("function"==typeof n.value)return X(n.value)}e=A(e)}return function(){return null}}const Q=L(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ee=L(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),te=L(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ne=L(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),oe=L(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),re=L(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),le=L(["#text"]),ie=L(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ae=L(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),se=L(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ce=L(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ue=N(/\{\{[\w\W]*|[\w\W]*\}\}/gm),de=N(/<%[\w\W]*|[\w\W]*%>/gm),me=N(/\$\{[\w\W]*/gm),pe=N(/^data-[\-\w.\u00B7-\uFFFF]+$/),fe=N(/^aria-[\-\w]+$/),he=N(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ge=N(/^(?:\w+script|data):/i),ye=N(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),be=N(/^html$/i),xe=N(/^[a-z][.\w]*(-[.\w]+)+$/i);var ve=Object.freeze({__proto__:null,ARIA_ATTR:fe,ATTR_WHITESPACE:ye,CUSTOM_ELEMENT:xe,DATA_ATTR:pe,DOCTYPE_NAME:be,ERB_EXPR:de,IS_ALLOWED_URI:he,IS_SCRIPT_OR_DATA:ge,MUSTACHE_EXPR:ue,TMPLIT_EXPR:me});const ke=1,Te=3,we=7,Se=8,Ee=9,Ae=function(){return"undefined"==typeof window?null:window};var Ce=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae();const n=t=>e(t);if(n.version="3.3.1",n.removed=[],!t||!t.document||t.document.nodeType!==Ee||!t.Element)return n.isSupported=!1,n;let{document:o}=t;const r=o,l=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:a,Node:s,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:p,trustedTypes:f}=t,h=c.prototype,g=J(h,"cloneNode"),y=J(h,"remove"),b=J(h,"nextSibling"),x=J(h,"childNodes"),v=J(h,"parentNode");if("function"==typeof a){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let k,T="";const{implementation:S,createNodeIterator:E,createDocumentFragment:A,getElementsByTagName:C}=o,{importNode:N}=r;let R={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof w&&"function"==typeof v&&S&&void 0!==S.createHTMLDocument;const{MUSTACHE_EXPR:D,ERB_EXPR:V,TMPLIT_EXPR:X,DATA_ATTR:$,ARIA_ATTR:ue,IS_SCRIPT_OR_DATA:de,ATTR_WHITESPACE:me,CUSTOM_ELEMENT:pe}=ve;let{IS_ALLOWED_URI:fe}=ve,ge=null;const ye=Z({},[...Q,...ee,...te,...oe,...le]);let xe=null;const Ce=Z({},[...ie,...ae,...se,...ce]);let Le=Object.seal(_(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ne=null,_e=null;const Re=Object.seal(_(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let De=!0,Oe=!0,Me=!1,je=!0,Ie=!1,Be=!0,He=!1,ze=!1,Ue=!1,Pe=!1,Fe=!1,We=!1,qe=!0,Ge=!1,Ye=!0,Ve=!1,Xe={},Ze=null;const $e=Z({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ke=null;const Je=Z({},["audio","video","img","source","image","track"]);let Qe=null;const et=Z({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tt="http://www.w3.org/1998/Math/MathML",nt="http://www.w3.org/2000/svg",ot="http://www.w3.org/1999/xhtml";let rt=ot,lt=!1,it=null;const at=Z({},[tt,nt,ot],z);let st=Z({},["mi","mo","mn","ms","mtext"]),ct=Z({},["annotation-xml"]);const ut=Z({},["title","style","font","a","script"]);let dt=null;const mt=["application/xhtml+xml","text/html"];let pt=null,ft=null;const ht=o.createElement("form"),gt=function(e){return e instanceof RegExp||e instanceof Function},yt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ft||ft!==e){if(e&&"object"==typeof e||(e={}),e=K(e),dt=-1===mt.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,pt="application/xhtml+xml"===dt?z:H,ge=q(e,"ALLOWED_TAGS")?Z({},e.ALLOWED_TAGS,pt):ye,xe=q(e,"ALLOWED_ATTR")?Z({},e.ALLOWED_ATTR,pt):Ce,it=q(e,"ALLOWED_NAMESPACES")?Z({},e.ALLOWED_NAMESPACES,z):at,Qe=q(e,"ADD_URI_SAFE_ATTR")?Z(K(et),e.ADD_URI_SAFE_ATTR,pt):et,Ke=q(e,"ADD_DATA_URI_TAGS")?Z(K(Je),e.ADD_DATA_URI_TAGS,pt):Je,Ze=q(e,"FORBID_CONTENTS")?Z({},e.FORBID_CONTENTS,pt):$e,Ne=q(e,"FORBID_TAGS")?Z({},e.FORBID_TAGS,pt):K({}),_e=q(e,"FORBID_ATTR")?Z({},e.FORBID_ATTR,pt):K({}),Xe=!!q(e,"USE_PROFILES")&&e.USE_PROFILES,De=!1!==e.ALLOW_ARIA_ATTR,Oe=!1!==e.ALLOW_DATA_ATTR,Me=e.ALLOW_UNKNOWN_PROTOCOLS||!1,je=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ie=e.SAFE_FOR_TEMPLATES||!1,Be=!1!==e.SAFE_FOR_XML,He=e.WHOLE_DOCUMENT||!1,Pe=e.RETURN_DOM||!1,Fe=e.RETURN_DOM_FRAGMENT||!1,We=e.RETURN_TRUSTED_TYPE||!1,Ue=e.FORCE_BODY||!1,qe=!1!==e.SANITIZE_DOM,Ge=e.SANITIZE_NAMED_PROPS||!1,Ye=!1!==e.KEEP_CONTENT,Ve=e.IN_PLACE||!1,fe=e.ALLOWED_URI_REGEXP||he,rt=e.NAMESPACE||ot,st=e.MATHML_TEXT_INTEGRATION_POINTS||st,ct=e.HTML_INTEGRATION_POINTS||ct,Le=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&gt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Le.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&gt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Le.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Le.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ie&&(Oe=!1),Fe&&(Pe=!0),Xe&&(ge=Z({},le),xe=[],!0===Xe.html&&(Z(ge,Q),Z(xe,ie)),!0===Xe.svg&&(Z(ge,ee),Z(xe,ae),Z(xe,ce)),!0===Xe.svgFilters&&(Z(ge,te),Z(xe,ae),Z(xe,ce)),!0===Xe.mathMl&&(Z(ge,oe),Z(xe,se),Z(xe,ce))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?Re.tagCheck=e.ADD_TAGS:(ge===ye&&(ge=K(ge)),Z(ge,e.ADD_TAGS,pt))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?Re.attributeCheck=e.ADD_ATTR:(xe===Ce&&(xe=K(xe)),Z(xe,e.ADD_ATTR,pt))),e.ADD_URI_SAFE_ATTR&&Z(Qe,e.ADD_URI_SAFE_ATTR,pt),e.FORBID_CONTENTS&&(Ze===$e&&(Ze=K(Ze)),Z(Ze,e.FORBID_CONTENTS,pt)),e.ADD_FORBID_CONTENTS&&(Ze===$e&&(Ze=K(Ze)),Z(Ze,e.ADD_FORBID_CONTENTS,pt)),Ye&&(ge["#text"]=!0),He&&Z(ge,["html","head","body"]),ge.table&&(Z(ge,["tbody"]),delete Ne.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Y('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Y('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=e.TRUSTED_TYPES_POLICY,T=k.createHTML("")}else void 0===k&&(k=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(f,l)),null!==k&&"string"==typeof T&&(T=k.createHTML(""));L&&L(e),ft=e}},bt=Z({},[...ee,...te,...ne]),xt=Z({},[...oe,...re]),vt=function(e){I(n.removed,{element:e});try{v(e).removeChild(e)}catch(t){y(e)}},kt=function(e,t){try{I(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){I(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Pe||Fe)try{vt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Tt=function(e){let t=null,n=null;if(Ue)e="<remove></remove>"+e;else{const t=U(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===dt&&rt===ot&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=k?k.createHTML(e):e;if(rt===ot)try{t=(new p).parseFromString(r,dt)}catch(e){}if(!t||!t.documentElement){t=S.createDocument(rt,"template",null);try{t.documentElement.innerHTML=lt?T:r}catch(e){}}const l=t.body||t.documentElement;return e&&n&&l.insertBefore(o.createTextNode(n),l.childNodes[0]||null),rt===ot?C.call(t,He?"html":"body")[0]:He?t.documentElement:l},wt=function(e){return E.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},St=function(e){return e instanceof m&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Et=function(e){return"function"==typeof s&&e instanceof s};function At(e,t,o){O(e,e=>{e.call(n,t,o,ft)})}const Ct=function(e){let t=null;if(At(R.beforeSanitizeElements,e,null),St(e))return vt(e),!0;const o=pt(e.nodeName);if(At(R.uponSanitizeElement,e,{tagName:o,allowedTags:ge}),Be&&e.hasChildNodes()&&!Et(e.firstElementChild)&&G(/<[/\w!]/g,e.innerHTML)&&G(/<[/\w!]/g,e.textContent))return vt(e),!0;if(e.nodeType===we)return vt(e),!0;if(Be&&e.nodeType===Se&&G(/<[/\w]/g,e.data))return vt(e),!0;if(!(Re.tagCheck instanceof Function&&Re.tagCheck(o))&&(!ge[o]||Ne[o])){if(!Ne[o]&&Nt(o)){if(Le.tagNameCheck instanceof RegExp&&G(Le.tagNameCheck,o))return!1;if(Le.tagNameCheck instanceof Function&&Le.tagNameCheck(o))return!1}if(Ye&&!Ze[o]){const t=v(e)||e.parentNode,n=x(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const r=g(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,b(e))}}}return vt(e),!0}return e instanceof c&&!function(e){let t=v(e);t&&t.tagName||(t={namespaceURI:rt,tagName:"template"});const n=H(e.tagName),o=H(t.tagName);return!!it[e.namespaceURI]&&(e.namespaceURI===nt?t.namespaceURI===ot?"svg"===n:t.namespaceURI===tt?"svg"===n&&("annotation-xml"===o||st[o]):Boolean(bt[n]):e.namespaceURI===tt?t.namespaceURI===ot?"math"===n:t.namespaceURI===nt?"math"===n&&ct[o]:Boolean(xt[n]):e.namespaceURI===ot?!(t.namespaceURI===nt&&!ct[o])&&!(t.namespaceURI===tt&&!st[o])&&!xt[n]&&(ut[n]||!bt[n]):!("application/xhtml+xml"!==dt||!it[e.namespaceURI]))}(e)?(vt(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!G(/<\/no(script|embed|frames)/i,e.innerHTML)?(Ie&&e.nodeType===Te&&(t=e.textContent,O([D,V,X],e=>{t=P(t,e," ")}),e.textContent!==t&&(I(n.removed,{element:e.cloneNode()}),e.textContent=t)),At(R.afterSanitizeElements,e,null),!1):(vt(e),!0)},Lt=function(e,t,n){if(qe&&("id"===t||"name"===t)&&(n in o||n in ht))return!1;if(Oe&&!_e[t]&&G($,t));else if(De&&G(ue,t));else if(Re.attributeCheck instanceof Function&&Re.attributeCheck(t,e));else if(!xe[t]||_e[t]){if(!(Nt(e)&&(Le.tagNameCheck instanceof RegExp&&G(Le.tagNameCheck,e)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(e))&&(Le.attributeNameCheck instanceof RegExp&&G(Le.attributeNameCheck,t)||Le.attributeNameCheck instanceof Function&&Le.attributeNameCheck(t,e))||"is"===t&&Le.allowCustomizedBuiltInElements&&(Le.tagNameCheck instanceof RegExp&&G(Le.tagNameCheck,n)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(n))))return!1}else if(Qe[t]);else if(G(fe,P(n,me,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==F(n,"data:")||!Ke[e]){if(Me&&!G(de,P(n,me,"")));else if(n)return!1}else;return!0},Nt=function(e){return"annotation-xml"!==e&&U(e,pe)},_t=function(e){At(R.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||St(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe,forceKeepAttr:void 0};let r=t.length;for(;r--;){const l=t[r],{name:i,namespaceURI:a,value:s}=l,c=pt(i),u=s;let d="value"===i?u:W(u);if(o.attrName=c,o.attrValue=d,o.keepAttr=!0,o.forceKeepAttr=void 0,At(R.uponSanitizeAttribute,e,o),d=o.attrValue,!Ge||"id"!==c&&"name"!==c||(kt(i,e),d="user-content-"+d),Be&&G(/((--!?|])>)|<\/(style|title|textarea)/i,d)){kt(i,e);continue}if("attributename"===c&&U(d,"href")){kt(i,e);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr){kt(i,e);continue}if(!je&&G(/\/>/i,d)){kt(i,e);continue}Ie&&O([D,V,X],e=>{d=P(d,e," ")});const m=pt(e.nodeName);if(Lt(m,c,d)){if(k&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(a);else switch(f.getAttributeType(m,c)){case"TrustedHTML":d=k.createHTML(d);break;case"TrustedScriptURL":d=k.createScriptURL(d)}if(d!==u)try{a?e.setAttributeNS(a,i,d):e.setAttribute(i,d),St(e)?vt(e):j(n.removed)}catch(t){kt(i,e)}}else kt(i,e)}At(R.afterSanitizeAttributes,e,null)},Rt=function e(t){let n=null;const o=wt(t);for(At(R.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)At(R.uponSanitizeShadowNode,n,null),Ct(n),_t(n),n.content instanceof i&&e(n.content);At(R.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,l=null,a=null,c=null;if(lt=!e,lt&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Et(e)){if("function"!=typeof e.toString)throw Y("toString is not a function");if("string"!=typeof(e=e.toString()))throw Y("dirty is not a string, aborting")}if(!n.isSupported)return e;if(ze||yt(t),n.removed=[],"string"==typeof e&&(Ve=!1),Ve){if(e.nodeName){const t=pt(e.nodeName);if(!ge[t]||Ne[t])throw Y("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof s)o=Tt("\x3c!----\x3e"),l=o.ownerDocument.importNode(e,!0),l.nodeType===ke&&"BODY"===l.nodeName||"HTML"===l.nodeName?o=l:o.appendChild(l);else{if(!Pe&&!Ie&&!He&&-1===e.indexOf("<"))return k&&We?k.createHTML(e):e;if(o=Tt(e),!o)return Pe?null:We?T:""}o&&Ue&&vt(o.firstChild);const u=wt(Ve?e:o);for(;a=u.nextNode();)Ct(a),_t(a),a.content instanceof i&&Rt(a.content);if(Ve)return e;if(Pe){if(Fe)for(c=A.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return(xe.shadowroot||xe.shadowrootmode)&&(c=N.call(r,c,!0)),c}let d=He?o.outerHTML:o.innerHTML;return He&&ge["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&G(be,o.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+d),Ie&&O([D,V,X],e=>{d=P(d,e," ")}),k&&We?k.createHTML(d):d},n.setConfig=function(){yt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),ze=!0},n.clearConfig=function(){ft=null,ze=!1},n.isValidAttribute=function(e,t,n){ft||yt({});const o=pt(e),r=pt(t);return Lt(o,r,n)},n.addHook=function(e,t){"function"==typeof t&&I(R[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=M(R[e],t);return-1===n?void 0:B(R[e],n,1)[0]}return j(R[e])},n.removeHooks=function(e){R[e]=[]},n.removeAllHooks=function(){R={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();Ce.addHook("uponSanitizeAttribute",(e,t)=>{if(e&&"function"==typeof e.hasAttribute&&"style"===t.attrName){const e=(t.attrValue||"").split(";").map(e=>e.trim()).filter(e=>{const[t]=e.split(":").map(e=>e.trim().toLowerCase());return["color","font-weight","font-style","text-decoration","background-color","font-size","text-align","float","margin","margin-left","margin-right","margin-top","margin-bottom","display","width","max-width","height","padding","border-radius","object-fit","cursor"].includes(t)}).join("; ");e?t.attrValue=e:t.keepAttr=!1}});const Le=function(e){let{onChange:t,className:n,initialValue:o,imageChildren:x,exportFullHTML:v}=e;const{align:k,boldActive:w,italicActive:S,underlineActive:E,formatBlock:A,orderedListActive:C,unorderedListActive:L}=(()=>{const[e,t]=(0,r.useState)(""),[n,o]=(0,r.useState)(!1),[l,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),[d,m]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),[y,b]=(0,r.useState)(""),x=(0,r.useRef)(null),v=(0,r.useCallback)(()=>{requestAnimationFrame(()=>{var r;const h=document.queryCommandState("bold"),g=document.queryCommandState("italic"),y=document.queryCommandState("underline"),b=document.queryCommandState("insertOrderedList"),x=document.queryCommandState("insertUnorderedList"),v=null===(r=document.queryCommandValue("formatBlock"))||void 0===r?void 0:r.toLowerCase();h!==n&&o(h),g!==l&&i(g),y!==a&&s(y),b!==d&&m(b),x!==p&&f(x),v!==c&&u(v);const k=window.getSelection();if(!k||0===k.rangeCount)return;let T=k.anchorNode;for(;T;){if(1===T.nodeType){const e=window.getComputedStyle(T).display;if("block"===e||"flex"===e)break}T=T.parentElement}let w="";if(T){const e=window.getComputedStyle(T).textAlign;w="center"===e?"center":"right"===e?"right":"left"}w!==e&&t(w)})},[n,l,a,d,p,c,e]);return{align:e,boldActive:n,italicActive:l,underlineActive:a,formatBlock:c,orderedListActive:d,unorderedListActive:p,linkDropdownOpen:h,linkUrl:y,savedSelection:x,handleSelectionChange:v,setLinkDropdownOpen:g,setLinkUrl:b}})(),[N,_]=(0,r.useState)(null),[R,D]=(0,r.useState)(null),[O,M]=(0,r.useState)(null),j=(0,r.useRef)(null),I=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(j.current&&o){const t=(e=>{const t=(new DOMParser).parseFromString(e,"text/html"),n=t.querySelector("style");let o=t.body.innerHTML;n&&(o='<div class="editor-styles-container">'.concat(n.outerHTML,"</div>")+o);return o})(o);j.current.innerHTML=(e=t,Ce.sanitize(e,{ALLOWED_TAGS:["b","i","u","strong","em","span","div","br","p","h1","h2","h3","ul","ol","li","a","img"],ALLOWED_ATTR:["style","href","target","rel","src","alt","width","height","draggable"],FORBID_ATTR:["onerror","onclick","onload"],FORBID_TAGS:["script","iframe","object","embed"]}))}else j.current&&(j.current.innerHTML="");var e},[o]);const[B,H]=(0,r.useState)(!1),[z,U]=(0,r.useState)(""),[P,F]=(0,r.useState)(""),[W,q]=(0,r.useState)(""),[G,Y]=(0,r.useState)(""),[V,X]=(0,r.useState)({top:0,left:0}),[Z,$]=(0,r.useState)({top:0,left:0}),[K,J]=(0,r.useState)(!1),[Q,ee]=(0,r.useState)(""),[te,ne]=(0,r.useState)(""),[oe,re]=(0,r.useState)(null),[le,ie]=(0,r.useState)(!1),[ae,se]=(0,r.useState)({top:0,left:0}),ce=()=>{};(0,r.useEffect)(()=>{const e=j.current;if(!e)return;const n=()=>{if(t){const n=e.innerHTML;t(v?(e=>'\n      <!DOCTYPE html>\n      <html lang="en">\n      <head>\n        <meta charset="UTF-8">\n        <title>Exported Document</title>\n      </head>\n      <body>\n        '.concat(e,"\n      </body>\n      </html>\n    "))(n):n)}};return document.addEventListener("selectionchange",ce),e.addEventListener("input",n),()=>{document.removeEventListener("selectionchange",ce),e.removeEventListener("input",n)}},[t,v]),(0,r.useEffect)(()=>{const e=j.current;if(!e)return;let t=null;const n=e=>{var n,o;e.target&&"IMG"===e.target.tagName&&(t=e.target,null===(n=e.dataTransfer)||void 0===n||n.setData("text/html",t.outerHTML),null===(o=e.dataTransfer)||void 0===o||o.setData("text/plain",t.src))},o=e=>{e.preventDefault()},r=n=>{if(n.preventDefault(),t&&e.contains(t)){const e=l(n);if(e){var o;const n=t.cloneNode(!0);e.insertNode(n),e.collapse(!1),null===(o=t.parentNode)||void 0===o||o.removeChild(t)}}t=null},l=e=>{if(document.caretRangeFromPoint)return document.caretRangeFromPoint(e.clientX,e.clientY);if(e.rangeParent){const t=document.createRange();return t.setStart(e.rangeParent,e.rangeOffset),t}return null};return e.addEventListener("dragstart",n),e.addEventListener("dragover",o),e.addEventListener("drop",r),()=>{e.removeEventListener("dragstart",n),e.removeEventListener("dragover",o),e.removeEventListener("drop",r)}},[]);const ue=(e,t)=>{var n;const o=window.getSelection(),r=o&&o.isCollapsed;if(("bold"===e||"italic"===e||"underline"===e)&&r&&j.current&&document.activeElement===j.current){document.execCommand(e,!1,t),document.execCommand("insertHTML",!1,"<span>â€‹</span>");const n=document.createRange(),r=j.current;r.lastChild&&(n.setStartAfter(r.lastChild),n.collapse(!0),null==o||o.removeAllRanges(),null==o||o.addRange(n))}else document.execCommand(e,!1,t);null===(n=j.current)||void 0===n||n.focus()};(0,r.useEffect)(()=>{let e=null,t=null,n=null;const o=o=>{const r=o.target;if(!r)return;const l=j.current,i=document.querySelector(".ant-dropdown"),a=document.querySelector(".ant-modal");if(a&&a.contains(r)||i&&i.contains(r))return;const s=r.closest("a"),c=r.closest("img");if(l&&!l.contains(r))return e&&(e.style.outline="none",e=null),t&&(t.style.outline="none",t=null),n&&(n.style.outline="none",n=null),_(null),D(null),void M(null);if(s&&l&&l.contains(s))o.preventDefault(),e&&e!==s&&(e.style.outline="none"),s.style.outline="2px solid #3b82f6",e=s,_({element:s,x:o.clientX,y:o.clientY}),console.log("Button selected:",s);else if(c&&l&&l.contains(c))o.preventDefault(),t&&t!==c&&(t.style.outline="none"),c.style.outline="2px solid #3b82f6",t=c,D({element:c,x:o.clientX,y:o.clientY});else{const e=window.getSelection();if(e&&e.rangeCount>0){var u;const t=null===(u=e.getRangeAt(0).startContainer.parentElement)||void 0===u?void 0:u.closest("p, div, span, section, article, main, header, footer, aside, nav");if(t&&null!=l&&l.contains(t)){n&&n!==t&&(n.style.outline="none"),t.style.outline="2px solid #3b82f6",n=t;const e=t.getBoundingClientRect();M({element:t,x:e.left,y:e.top})}}}};return document.addEventListener("click",o),()=>document.removeEventListener("click",o)},[]);const de=((e,t,n,o,r,l,i)=>({onClick:a=>{if(null==e||!e.element)return;const s=e.element;if("edit"===a.key)r(s.innerText),l(s.getAttribute("href")||""),i(s),o(!0);else if("delete"===a.key)s.remove(),n(null);else if(a.key.startsWith("align-")){const e=a.key.replace("align-","");s.style.textAlign=e;const t=s.closest("div, p, section, article");t&&(t.style.textAlign=e)}else{if(!s)return void console.error("Button element is not defined.");a.key.startsWith("bg-")?((e,t)=>{e.style.backgroundColor=t})(s,a.key.replace("bg-","")):a.key.startsWith("text-")?((e,t)=>{e.style.color=t})(s,a.key.replace("text-","")):a.key.startsWith("radius-")?((e,t)=>{e.style.borderRadius=t})(s,a.key.replace("radius-","")):a.key.startsWith("padding-")?((e,t)=>{e.style.padding=t})(s,a.key.replace("padding-","")):"remove-bg"===a.key?(e=>{e.style.backgroundColor=""})(s):"remove-border"===a.key?(e=>{e.style.border=""})(s):"remove-padding"===a.key?(e=>{e.style.padding=""})(s):"custom-bg-color"===a.key&&t(!0)}},items:[{key:"edit",label:"Edit Button"},{key:"align",label:"Align Button",children:[{key:"align-left",label:"Left"},{key:"align-center",label:"Center"},{key:"align-right",label:"Right"}]},{key:"bg-color",label:"Background Color",children:[{key:"bg-#3b82f6",label:"Blue"},{key:"bg-#10b981",label:"Green"},{key:"bg-#ef4444",label:"Red"},{key:"bg-#f59e0b",label:"Orange"},{key:"bg-#8b5cf6",label:"Purple"},{key:"bg-#000000",label:"Black"}]},{key:"border-radius",label:"Border Radius",children:[{key:"radius-0px",label:"Square"},{key:"radius-2px",label:"Default"},{key:"radius-4px",label:"Large"},{key:"radius-9999px",label:"Pill"}]},{key:"text-color",label:"Text Color",children:[{key:"text-#ffffff",label:"White"},{key:"text-#000000",label:"Black"}]},{key:"padding",label:"Padding",children:[{key:"padding-8px 16px",label:"Small"},{key:"padding-12px 24px",label:"Default"},{key:"padding-16px 32px",label:"Large"},{key:"padding-20px 40px",label:"Extra Large"}]},{type:"divider"},{key:"remove-bg",label:"Remove Background"},{key:"remove-border",label:"Remove Border"},{key:"remove-padding",label:"Remove Padding"},{key:"delete",label:"Delete Button",danger:!0}]}))(N,ie,_,J,ee,ne,re),me=((e,t)=>({onClick:n=>{if(null==e||!e.element)return;const o=e.element;var r,l;n.key.startsWith("resize-")?(r=o,l=n.key.replace("resize-",""),r.style.width=l):n.key.startsWith("align-")?((e,t)=>{e.style.display="block",e.style.margin="center"===t?"auto":"0 ".concat("right"===t?"0 0 auto":"auto 0 0")})(o,n.key.replace("align-","")):n.key.startsWith("border-")?((e,t)=>{e.style.borderRadius=t})(o,n.key.replace("border-","")):"remove"===n.key&&(o.remove(),t(null))},items:[{key:"resize",label:"Resize",children:[{key:"resize-25%",label:"25%"},{key:"resize-50%",label:"50%"},{key:"resize-75%",label:"75%"},{key:"resize-100%",label:"100%"}]},{key:"align",label:"Align",children:[{key:"align-left",label:"Left"},{key:"align-center",label:"Center"},{key:"align-right",label:"Right"}]},{key:"border",label:"Border Radius",children:[{key:"border-0px",label:"None"},{key:"border-8px",label:"Small"},{key:"border-16px",label:"Medium"},{key:"border-24px",label:"Large"}]},{type:"divider"},{key:"remove",label:"Remove Image",danger:!0}]}))(R,D),pe=(e=>({onClick:t=>{if(null==e||!e.element)return;const n=e.element;var o,r;t.key.startsWith("border-")?(o=n,r=t.key.replace("border-",""),o.style.border=r):t.key.startsWith("radius-")?((e,t)=>{e.style.borderRadius=t})(n,t.key.replace("radius-","")):"remove-border"===t.key&&(e=>{e.style.border=""})(n)},items:[{key:"border",label:"Border",children:[{key:"border-1px solid #000",label:"Black"},{key:"border-1px solid #3b82f6",label:"Blue"},{key:"border-1px solid #10b981",label:"Green"},{key:"border-1px solid #ef4444",label:"Red"}]},{key:"border-radius",label:"Border Radius",children:[{key:"radius-0px",label:"None"},{key:"radius-4px",label:"Small"},{key:"radius-8px",label:"Medium"},{key:"radius-12px",label:"Large"}]},{type:"divider"},{key:"remove-border",label:"Remove Border"}]}))(O);return(0,r.useEffect)(()=>{N&&X({top:N.y+10,left:N.x+10})},[N]),(0,r.useEffect)(()=>{R&&se({top:R.y+10,left:R.x+10})},[R]),(0,r.useEffect)(()=>{O&&$({top:O.y+30,left:O.x+10})},[O]),(0,i.jsxs)("div",{className:"w-fit border-2 border-blue-500 p-3 rounded-lg shadow-lg mx-auto mt-10",children:[(0,i.jsxs)("div",{className:"flex flex-wrap mb-2 gap-1",children:[(0,i.jsx)(y,{active:w,onClick:()=>ue("bold"),tooltip:"Bold",icon:(0,i.jsx)(p,{})}),(0,i.jsx)(y,{active:S,onClick:()=>ue("italic"),tooltip:"Italic",icon:(0,i.jsx)(m,{})}),(0,i.jsx)(y,{active:E,onClick:()=>ue("underline"),tooltip:"Underline",icon:(0,i.jsx)(d,{})}),(0,i.jsx)(y,{active:"h1"===A,onClick:()=>ue("formatBlock","H1"),tooltip:"Heading 1",label:"H1"}),(0,i.jsx)(y,{active:"h2"===A,onClick:()=>ue("formatBlock","H2"),tooltip:"Heading 2",label:"H2"}),(0,i.jsx)(y,{active:"h3"===A,onClick:()=>ue("formatBlock","H3"),tooltip:"Heading 3",label:"H3"}),(0,i.jsx)(y,{active:L,onClick:()=>ue("insertUnorderedList"),tooltip:"Unordered List",icon:(0,i.jsx)(f,{})}),(0,i.jsx)(y,{active:C,onClick:()=>ue("insertOrderedList"),tooltip:"Ordered List",icon:(0,i.jsx)(h,{})}),(0,i.jsx)(y,{active:"left"===k,onClick:()=>ue("justifyLeft"),tooltip:"Align Left",icon:(0,i.jsx)(s,{})}),(0,i.jsx)(y,{active:"center"===k,onClick:()=>ue("justifyCenter"),tooltip:"Align Center",icon:(0,i.jsx)(c,{})}),(0,i.jsx)(y,{active:"right"===k,onClick:()=>ue("justifyRight"),tooltip:"Align Right",icon:(0,i.jsx)(u,{})}),(0,i.jsx)(T,{children:x,onImageSelect:e=>{if(j.current){j.current.focus();const t=window.getSelection();if(t&&t.rangeCount>0){const n=t.getRangeAt(0),o=document.createElement("img");o.src=e,o.style.maxWidth="100%",o.draggable=!0,n.insertNode(o),n.collapse(!1)}else{const t=document.createElement("img");t.src=e,t.style.maxWidth="100%",t.draggable=!0,j.current.appendChild(t)}}}}),(0,i.jsx)(y,{onClick:()=>{const e=window.getSelection();e&&e.rangeCount>0&&(I.current=e.getRangeAt(0).cloneRange()),H(!0),U(""),F(""),q(""),Y("")},icon:(0,i.jsx)(g,{}),tooltip:"Insert Button",label:"Button"}),(0,i.jsx)(a,{mode:"insertButton",open:B,buttonLabel:z,buttonUrl:P,buttonLabelError:W,buttonUrlError:G,onLabelChange:U,onUrlChange:F,onOk:()=>{let e=!1;if(z.trim()?q(""):(q("Button label is required"),e=!0),P.trim()?Y(""):(Y("URL is required"),e=!0),!e){if(j.current){const e=window.getSelection();null==e||e.removeAllRanges(),I.current&&(null==e||e.addRange(I.current));const t='<a href="'.concat(P,'" target="_blank" rel="noopener noreferrer" style="text-decoration: none !important;">').concat(z,"</a>");document.execCommand("insertHTML",!1,t),j.current.focus()}H(!1),I.current=null}},onCancel:()=>H(!1)}),(0,i.jsx)(a,{mode:"insertButton",open:K,buttonLabel:Q,buttonUrl:te,buttonLabelError:W,buttonUrlError:G,onLabelChange:ee,onUrlChange:ne,onOk:()=>{oe&&(oe.textContent=Q,oe.setAttribute("href",te),l.message.success("Button updated successfully."),J(!1),re(null))},onCancel:()=>J(!1)}),(0,i.jsx)(a,{mode:"customBg",open:le,onApply:e=>{if(console.log("Custom background color applied:",e),null!=N&&N.element){console.log("Selected button element:",N.element);const t=(e,t)=>{e.style.backgroundColor=t};t(N.element,e)}else console.error("No button selected to apply background color.")},selectedButton:N,onOk:()=>ie(!1),onCancel:()=>ie(!1)})]}),(0,i.jsx)(b,{ref:j,className:n}),N&&(0,i.jsx)("div",{style:{position:"absolute",top:V.top,left:V.left,zIndex:1e3,width:"200px"},children:(0,i.jsx)(l.Dropdown,{menu:de,trigger:["click"],open:!0,onOpenChange:e=>{e||_(null)},children:(0,i.jsx)("div",{style:{width:"1px",height:"1px"}})})}),R&&(0,i.jsx)("div",{style:{position:"absolute",top:ae.top,left:ae.left,zIndex:1e3,width:"200px"},children:(0,i.jsx)(l.Dropdown,{menu:me,trigger:["click"],open:!0,onOpenChange:e=>{e||D(null)},children:(0,i.jsx)("div",{style:{width:"1px",height:"1px"}})})}),O&&(0,i.jsx)("div",{style:{position:"absolute",top:Z.top,left:Z.left,zIndex:1e3,width:"200px"},children:(0,i.jsx)(l.Dropdown,{menu:pe,trigger:["click"],open:!0,onOpenChange:e=>{e||M(null)},children:(0,i.jsx)("div",{style:{width:"1px",height:"1px"}})})})]})},Ne=Le;module.exports=o})();